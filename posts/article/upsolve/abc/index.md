---
title: "ABC"
date: 2020-10-20T12:17:34+09:00
draft: false
---

個人的に詰まる部分があった問題の振り返り ABC編

[178F](https://atcoder.jp/contests/abc178/tasks/abc178_f)

計算量のわからない乱択で通した…(おそらくexpected $\mathrm{O}(N \log N)$だが…)

こういう問題の方針の立て方がさっぱりわからない。まともに解くなら不変条件を利用して構築するしかない問題だと思っていたが解説・FAはかなりad-hocな解法だった。

Yesの必要条件(一つの数が高々$N$個)は自明なので十分性を考える。$x$=$1\ldots N$に対して$f(x):=$upper_bound(A,x) - lower_bound(B,x) のように置く。(A,Bにxが存在しないときは0) この時$B$を$\max f(x)$だけ右にrotate shiftしたものが条件を満たすことが証明できる。(証明は少し面倒なので略…)

かなり非自明だし証明も面倒(紙に書けば直感的な理解はできるけど)。こんなんどうやって見つけるんだ。うーん…

[180F](https://atcoder.jp/contests/abc180/tasks/abc180_f)

そこまで難しくないが、**$\max(a_1,a_2,\ldots,a_k) = L$の数え上げは$\max(a_1,a_2,\ldots,a_k) \leq L$から$\max(a_1,a_2,\ldots,a_k) \leq L-1$を取り除いたもの**、という典型をうっかり見落としていて時間を浪費してしまった(これはひどい…)

FPSでも解けるようだ。与えられたグラフはパス(孤立点を含む)と大きさ$2$以上のサイクルからなる。パスの個数は頂点の数と辺の数の差に等しいのでパスの個数は$N-M$個とわかる。次数と場合の数が対応したパスのEGFを$P(x)$とおくと…(以下書きかけ(後で書く))

[170F](https://atcoder.jp/contests/abc170/tasks/abc170_f)

解けなかったわけではないけどこういうの苦手。自明解法がTLE -> **うまい枝刈りをする** -> **計算量が改善されて通る**みたいなのに慣れないと…

この問題の場合は01-BFSについて「現在のマスと同じ手数でたどり着けるマスを踏んだ場合break」という枝刈りを加える。(正当性は明らか) この時、一つのマスを訪問する回数は高々4回になる(1方向につき1回しか訪問しないことが証明できる。)ので計算量が削減できる。

落ち着いて計算量を示せばそこまで難しくないけどそういうのをコンテスト中にやるのが苦手なんだよね…

[169F](https://atcoder.jp/contests/abc169/tasks/abc169_f)

これがdiff: 1605なのかなり信じられない。自力ではまともな解法が思い浮かばなかった。2変数FPSで殴ると$\mathrm{O}(S \log S)$で解けるっちゃ解けるけど…

集合$(T,U)$を状態とみなしてDPを考えて3通りの遷移を考える、というのは全く見えなかった。(ちょっと面白いので覚えときたい)初手で$\sum_A=S$を満たす組み合わせを数える、と言い換えをしたのがマズくて沼にハマってしまった感はある。
